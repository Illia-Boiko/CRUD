(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),c=n(8),a=n.n(c),o=(n(13),n(2)),r=n(3),l=n.n(r),u=n(4),b="https://mate.academy/students-api/posts";function j(){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b);case 2:if(!(t=e.sent).ok){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(0),h=function(e){var t=e.onClick,n=e.name,s=e.className;return Object(p.jsx)("button",{type:"button",onClick:t,className:"Button button is-light ".concat(s),children:n})},m=function(e){var t=e.post;return Object(p.jsxs)("li",{className:"Post content is-normal",children:[Object(p.jsx)("span",{className:"Post__id",children:"Post id: ".concat(t.id)}),Object(p.jsx)("h2",{className:"Post__title",children:t.title}),Object(p.jsx)("span",{className:"Post__body",children:t.body})]})},O=function(e){var t=e.posts;return Object(p.jsx)("ul",{className:"ListOfPosts",children:null===t||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(s.Fragment,{children:Object(p.jsx)(m,{post:e})},e.id)}))})},x=function(e){var t=e.onCreateVisible,n=e.onDeleteVisible,i=e.onUpdateVisible,c=e.isFormVisible,a=Object(s.useState)([]),r=Object(o.a)(a,2),b=r[0],d=r[1],m=Object(s.useState)(!1),x=Object(o.a)(m,2),f=x[0],v=x[1],y=Object(s.useState)(!1),C=Object(o.a)(y,2),_=C[0],N=C[1],g=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:(t=e.sent)&&(n=t.reverse(),d(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){g(),function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,g();case 3:N(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c]),Object(p.jsxs)("main",{className:"Main App__Main box",children:[Object(p.jsxs)("div",{className:"Main__button-container",children:[Object(p.jsx)(h,{name:f?"Hide list of posts":"Show list of posts",onClick:function(){v(!f)},className:_?"is-loading":"is-link"}),Object(p.jsx)(h,{name:"New post",onClick:t}),Object(p.jsx)(h,{name:"Update post",onClick:i}),Object(p.jsx)(h,{name:"Delete post",onClick:n})]}),f&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,{posts:b}),Object(p.jsx)("a",{href:"#top",id:"bottom",className:"button to-start-button is-light",children:"To start"})]})]})},f=n(5),v=n(7),y=function(e){var t=e.onClick;return Object(p.jsx)("button",{type:"button",onClick:t,className:"Button button is-dark",children:"Ok"})},C=function(e){var t=e.isCreateVisible,n=e.isUpdateVisible,i=e.isDeleteVisible,c=e.onHideForm,a=Object(s.useState)({id:0,userId:0,title:"",body:""}),r=Object(o.a)(a,2),l=r[0],u=r[1],j=function(){u({id:0,userId:0,title:"",body:""})},d=function(){j(),c()},m=function(e){var t=e.target,n=t.name,s=t.value;u(Object(v.a)(Object(v.a)({},l),{},Object(f.a)({},n,s)))};return Object(p.jsxs)("form",{className:"Form field",children:[t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"Create new post"}),Object(p.jsx)("input",{type:"number",name:"userId",placeholder:"Enter user id",className:"Form__input input",value:l.userId,onChange:m}),Object(p.jsx)("input",{type:"text",name:"title",placeholder:"Enter the title",className:"Form__input input",value:l.title,onChange:m}),Object(p.jsx)("textarea",{name:"body",placeholder:"Enter the body",className:"Form__input input",value:l.body,onChange:m}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(h,{name:"Cancel",onClick:d}),Object(p.jsx)(y,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";fetch(b,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({userId:e,title:t,body:n})})}(l.userId,l.title,l.body),j(),c()}})]})]}),n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"Update post"}),Object(p.jsx)("input",{type:"number",name:"id",placeholder:"Enter post id",className:"Form__input input",value:l.id,onChange:m}),Object(p.jsx)("input",{type:"text",name:"title",placeholder:"Enter the title",className:"Form__input input",value:l.title,onChange:m}),Object(p.jsx)("textarea",{name:"body",placeholder:"Enter the body",className:"Form__input input",value:l.body,onChange:m}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(h,{name:"Cancel",onClick:d}),Object(p.jsx)(y,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";fetch("".concat(b,"/").concat(e),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:t,body:n})})}(l.id,l.title,l.body),j(),c()}})]})]}),i&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"Delete post"}),Object(p.jsx)("input",{type:"number",name:"id",placeholder:"Enter post id",className:"Form__input input",value:l.id,onChange:m}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(h,{name:"Cancel",onClick:d}),Object(p.jsx)(y,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;fetch("".concat(b,"/").concat(e),{method:"DELETE"})}(l.id),j(),c()}})]})]})]})},_=function(e){var t=e.isCreateVisible,n=e.isUpdateVisible,s=e.isDeleteVisible,i=e.onHideForm;return Object(p.jsx)("div",{className:"eclipse",children:Object(p.jsx)("section",{className:"ModalWindow box",children:Object(p.jsx)(C,{isCreateVisible:t,isUpdateVisible:n,isDeleteVisible:s,onHideForm:i})})})},N=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(s.useState)(!1),a=Object(o.a)(c,2),r=a[0],l=a[1],u=Object(s.useState)(!1),b=Object(o.a)(u,2),j=b[0],d=b[1],h=n||r||j;return Object(p.jsxs)("div",{className:"App content",children:[Object(p.jsx)("div",{id:"top"}),Object(p.jsx)("h1",{className:"App__title",children:"CRUD"}),Object(p.jsx)("a",{href:"#bottom",className:"arrow-button button",children:"\u2193"}),Object(p.jsx)(x,{onCreateVisible:function(){i(!0)},onUpdateVisible:function(){l(!0)},onDeleteVisible:function(){d(!0)},isFormVisible:h}),h&&Object(p.jsx)(_,{isCreateVisible:n,isUpdateVisible:r,isDeleteVisible:j,onHideForm:function(){i(!1),l(!1),d(!1)}})]})};a.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.0595c5ab.chunk.js.map