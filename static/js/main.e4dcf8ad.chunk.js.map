{"version":3,"sources":["requests.ts","components/Button/Button.tsx","components/Post/Post.tsx","components/ListOfPosts/ListOfPosts.tsx","components/Main/Main.tsx","components/SubmitButton/SubmitButton.tsx","components/Form/Form.tsx","components/ModalWindow/ModalWindow.tsx","App.tsx","index.tsx"],"names":["URL","getListOfPostsFromServer","a","fetch","listOfTodos","ok","json","Button","props","onClick","name","className","type","Post","post","id","title","body","ListOfPosts","posts","map","Main","onCreateVisible","onDeleteVisible","onUpdateVisible","isFormVisible","useState","listOfPosts","setListOfPosts","isListVisible","setIsListVisible","isLoading","setIsLoading","getListOfPosts","postsList","reverse","useEffect","updateList","href","SubmitButton","Form","isCreateVisible","isUpdateVisible","isDeleteVisible","onHideForm","userId","postData","setPostData","clearState","onCancelButton","handleChange","event","target","value","placeholder","onChange","postUserId","postTitle","postBody","method","headers","JSON","stringify","createNewPostOnServer","postId","updatePostByIdOnServer","deletePostByIdFromServer","ModalWindow","App","isCreatePostFormVisible","setIsCreatePostFormVisible","isUpdatePostFormVisible","setIsUpdatePostFormVisible","isDeletePostFormVisible","setIsDeletePostFormVisible","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4dcf8ad.chunk.js","sourcesContent":["// const URL = 'https://jsonplaceholder.typicode.com/posts';\nconst URL = 'https://mate.academy/students-api/posts';\n\nexport async function getListOfPostsFromServer(): Promise<Post[] | null> {\n  const listOfTodos = await fetch(URL);\n\n  if (listOfTodos.ok) {\n    return listOfTodos.json();\n  }\n\n  return null;\n}\n\nexport const createNewPostOnServer = (postUserId = 0, postTitle = '', postBody = '') => {\n  return (\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n      },\n      body: JSON.stringify({\n        userId: postUserId,\n        title: postTitle,\n        body: postBody,\n      }),\n    })\n  );\n};\n\nexport const deletePostByIdFromServer = (postId = 0) => {\n  return (\n    fetch(`${URL}/${postId}`, {\n      method: 'DELETE',\n    })\n  );\n};\n\nexport const updatePostByIdOnServer = (postId = 0, postTitle = '', postBody = '') => {\n  return (\n    fetch(`${URL}/${postId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n      },\n      body: JSON.stringify({\n        title: postTitle,\n        body: postBody,\n      }),\n    })\n  );\n};\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\n\ntype Props = {\n  onClick: () => void;\n  name: string;\n  className?: string;\n};\n\nexport const Button: React.FC<Props> = (props) => {\n  const { onClick, name, className } = props;\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={`Button button is-light ${className}`}\n    >\n      {name}\n    </button>\n  );\n};\n","import React from 'react';\n\ntype Props = {\n  post: Post;\n};\n\nexport const Post: React.FC<Props> = (props) => {\n  const { post } = props;\n\n  return (\n    <li\n      className=\"Post content is-normal\"\n    >\n      <span className=\"Post__id\">\n        {`Post id: ${post.id}`}\n      </span>\n      <h2 className=\"Post__title\">\n        {post.title}\n      </h2>\n      <span className=\"Post__body\">\n        {post.body}\n      </span>\n    </li>\n  );\n};\n","import React, { Fragment } from 'react';\nimport { Post } from '../Post';\n\ntype Props = {\n  posts: Post[] | null;\n};\n\nexport const ListOfPosts: React.FC<Props> = (props) => {\n  const { posts } = props;\n\n  return (\n    <ul className=\"ListOfPosts\">\n      {posts?.map(post => (\n        <Fragment key={post.id}>\n          <Post post={post} />\n        </Fragment>\n      ))}\n    </ul>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { getListOfPostsFromServer } from '../../requests';\nimport { Button } from '../Button';\nimport { ListOfPosts } from '../ListOfPosts';\n\ntype Props = {\n  onCreateVisible: () => void;\n  onUpdateVisible: () => void;\n  onDeleteVisible: () => void;\n  isFormVisible: boolean;\n};\n\nexport const Main: React.FC<Props> = (props) => {\n  const {\n    onCreateVisible,\n    onDeleteVisible,\n    onUpdateVisible,\n    isFormVisible,\n  } = props;\n\n  const [listOfPosts, setListOfPosts] = useState<Post[] | null>([]);\n  const [isListVisible, setIsListVisible] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const changeVisibilityOfList = () => {\n    setIsListVisible(!isListVisible);\n  };\n\n  const getListOfPosts = (async () => {\n    const posts = await getListOfPostsFromServer();\n\n    if (posts) {\n      const postsList = posts.reverse();\n\n      setListOfPosts(postsList);\n    }\n  });\n\n  useEffect(() => {\n    getListOfPosts();\n\n    const updateList = async () => {\n      setIsLoading(true);\n      await getListOfPosts();\n      setIsLoading(false);\n    };\n\n    updateList();\n  }, [isFormVisible]);\n\n  return (\n    <main className=\"Main App__Main box\">\n      <div className=\"Main__button-container\">\n        <Button\n          name={isListVisible ? 'Hide list of posts' : 'Show list of posts'}\n          onClick={changeVisibilityOfList}\n          className={isLoading ? 'is-loading' : 'is-link'}\n        />\n        <Button\n          name=\"New post\"\n          onClick={onCreateVisible}\n        />\n        <Button\n          name=\"Update post\"\n          onClick={onUpdateVisible}\n        />\n        <Button\n          name=\"Delete post\"\n          onClick={onDeleteVisible}\n        />\n      </div>\n      {isListVisible && (\n        <>\n          <ListOfPosts posts={listOfPosts} />\n          <a\n            href=\"#top\"\n            id=\"bottom\"\n            className=\"button to-start-button is-light\"\n          >\n            To start\n          </a>\n        </>\n      )}\n    </main>\n  );\n};\n","import React from 'react';\n\ntype Props = {\n  onClick: () => void\n};\n\nexport const SubmitButton: React.FC<Props> = (props) => {\n  const { onClick } = props;\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className=\"Button button is-dark\"\n    >\n      Ok\n    </button>\n  );\n};\n","import React, { useState } from 'react';\nimport { Button } from '../Button';\nimport { SubmitButton } from '../SubmitButton';\nimport {\n  createNewPostOnServer,\n  updatePostByIdOnServer,\n  deletePostByIdFromServer,\n} from '../../requests';\n\ntype Props = {\n  isCreateVisible: boolean;\n  isUpdateVisible: boolean;\n  isDeleteVisible: boolean;\n  onHideForm: () => void;\n};\n\ntype Event = React.ChangeEvent<HTMLInputElement> | React.ChangeEvent<HTMLTextAreaElement>;\n\nexport const Form: React.FC<Props> = (props) => {\n  const {\n    isCreateVisible,\n    isUpdateVisible,\n    isDeleteVisible,\n    onHideForm,\n  } = props;\n\n  const [postData, setPostData] = useState<Partial<Post>>({\n    id: 0,\n    userId: 0,\n    title: '',\n    body: '',\n  });\n\n  const clearState = () => {\n    setPostData({\n      id: 0,\n      userId: 0,\n      title: '',\n      body: '',\n    });\n  };\n\n  const onCancelButton = () => {\n    clearState();\n    onHideForm();\n  };\n\n  const handleChange = (event: Event) => {\n    const { name, value } = event.target;\n\n    setPostData({\n      ...postData,\n      [name]: value,\n    });\n  };\n\n  const createPost = () => {\n    const { userId, title, body } = postData;\n\n    createNewPostOnServer(userId, title, body);\n    clearState();\n    onHideForm();\n  };\n\n  const updatePost = () => {\n    const { id, title, body } = postData;\n\n    updatePostByIdOnServer(id, title, body);\n    clearState();\n    onHideForm();\n  };\n\n  const deletePost = () => {\n    deletePostByIdFromServer(postData.id);\n    clearState();\n    onHideForm();\n  };\n\n  return (\n    <form className=\"Form field\">\n      {isCreateVisible && (\n        <>\n          <h2>Create new post</h2>\n          <input\n            type=\"number\"\n            name=\"userId\"\n            placeholder=\"Enter user id\"\n            className=\"Form__input input\"\n            value={postData.userId}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Enter the title\"\n            className=\"Form__input input\"\n            value={postData.title}\n            onChange={handleChange}\n          />\n          <textarea\n            name=\"body\"\n            placeholder=\"Enter the body\"\n            className=\"Form__input input\"\n            value={postData.body}\n            onChange={handleChange}\n          />\n          <div className=\"Form__buttons-container\">\n            <Button\n              name=\"Cancel\"\n              onClick={onCancelButton}\n            />\n            <SubmitButton onClick={createPost} />\n          </div>\n        </>\n      )}\n      {isUpdateVisible && (\n        <>\n          <h2>Update post</h2>\n          <input\n            type=\"number\"\n            name=\"id\"\n            placeholder=\"Enter post id\"\n            className=\"Form__input input\"\n            value={postData.id}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Enter the title\"\n            className=\"Form__input input\"\n            value={postData.title}\n            onChange={handleChange}\n          />\n          <textarea\n            name=\"body\"\n            placeholder=\"Enter the body\"\n            className=\"Form__input input\"\n            value={postData.body}\n            onChange={handleChange}\n          />\n          <div className=\"Form__buttons-container\">\n            <Button\n              name=\"Cancel\"\n              onClick={onCancelButton}\n            />\n            <SubmitButton onClick={updatePost} />\n          </div>\n        </>\n      )}\n      {isDeleteVisible && (\n        <>\n          <h2>Delete post</h2>\n          <input\n            type=\"number\"\n            name=\"id\"\n            placeholder=\"Enter post id\"\n            className=\"Form__input input\"\n            value={postData.id}\n            onChange={handleChange}\n          />\n          <div className=\"Form__buttons-container\">\n            <Button\n              name=\"Cancel\"\n              onClick={onCancelButton}\n            />\n            <SubmitButton onClick={deletePost} />\n          </div>\n        </>\n      )}\n    </form>\n  );\n};\n","import React from 'react';\nimport { Form } from '../Form';\n\ntype Props = {\n  isCreateVisible: boolean;\n  isUpdateVisible: boolean;\n  isDeleteVisible: boolean;\n  onHideForm: () => void;\n};\n\nexport const ModalWindow: React.FC<Props> = (props) => {\n  const {\n    isCreateVisible,\n    isUpdateVisible,\n    isDeleteVisible,\n    onHideForm,\n  } = props;\n\n  return (\n    <div className=\"eclipse\">\n      <section className=\"ModalWindow box\">\n        <Form\n          isCreateVisible={isCreateVisible}\n          isUpdateVisible={isUpdateVisible}\n          isDeleteVisible={isDeleteVisible}\n          onHideForm={onHideForm}\n        />\n      </section>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Main } from './components/Main';\nimport { ModalWindow } from './components/ModalWindow';\n\nexport const App: React.FC = () => {\n  const [isCreatePostFormVisible, setIsCreatePostFormVisible] = useState(false);\n  const [isUpdatePostFormVisible, setIsUpdatePostFormVisible] = useState(false);\n  const [isDeletePostFormVisible, setIsDeletePostFormVisible] = useState(false);\n\n  const isFormVisible = (\n    isCreatePostFormVisible\n    || isUpdatePostFormVisible\n    || isDeletePostFormVisible\n  );\n\n  const showCreateForm = () => {\n    setIsCreatePostFormVisible(true);\n  };\n\n  const showUpdateForm = () => {\n    setIsUpdatePostFormVisible(true);\n  };\n\n  const showDeleteForm = () => {\n    setIsDeletePostFormVisible(true);\n  };\n\n  const hideForm = () => {\n    setIsCreatePostFormVisible(false);\n    setIsUpdatePostFormVisible(false);\n    setIsDeletePostFormVisible(false);\n  };\n\n  return (\n    <div className=\"App content\">\n      <div id=\"top\"></div>\n      <h1 className=\"App__title\">\n        CRUD\n      </h1>\n      <a\n        href=\"#bottom\"\n        className=\"arrow-button button\"\n      >\n        &#8595;\n      </a>\n      <Main\n        onCreateVisible={showCreateForm}\n        onUpdateVisible={showUpdateForm}\n        onDeleteVisible={showDeleteForm}\n        isFormVisible={isFormVisible}\n      />\n      {\n        isFormVisible\n        && (\n          <ModalWindow\n            isCreateVisible={isCreatePostFormVisible}\n            isUpdateVisible={isUpdatePostFormVisible}\n            isDeleteVisible={isDeletePostFormVisible}\n            onHideForm={hideForm}\n          />\n        )\n      }\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}