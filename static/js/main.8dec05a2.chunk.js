(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(8),c=n.n(a),o=(n(13),n(2)),r=n(3),l=n.n(r),d=n(6),b="https://mate.academy/students-api/posts";function u(){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b);case 2:if(!(t=e.sent).ok){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(0),O=function(e){var t=e.onClick,n=e.name;return Object(p.jsx)("button",{type:"button",onClick:t,className:"button is-light",children:n})},m=function(e){var t=e.post;return Object(p.jsxs)("li",{className:"Post content is-normal",children:[Object(p.jsx)("span",{className:"Post__id",children:"Post id: ".concat(t.id)}),Object(p.jsx)("h2",{className:"Post__title",children:t.title}),Object(p.jsx)("span",{className:"Post__body",children:t.body})]})},h=function(e){var t=e.posts;return Object(p.jsx)("ul",{className:"ListOfPosts",children:null===t||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(i.Fragment,{children:Object(p.jsx)(m,{post:e})},e.id)}))})},x=function(e){var t=e.onCreateVisible,n=e.onDeleteVisible,s=e.onUpdateVisible,a=Object(i.useState)([]),c=Object(o.a)(a,2),r=c[0],b=c[1],j=Object(i.useState)(!1),m=Object(o.a)(j,2),x=m[0],f=m[1],v=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){v()}),[]),Object(p.jsxs)("main",{className:"Menu App__Menu box",children:[Object(p.jsxs)("div",{className:"Menu__button-container",children:[Object(p.jsx)(O,{name:"Update list",onClick:v}),Object(p.jsx)(O,{name:x?"Hide list of posts":"Show list of posts",onClick:function(){f(!x)}}),Object(p.jsx)(O,{name:"New post",onClick:t}),Object(p.jsx)(O,{name:"Update post",onClick:s}),Object(p.jsx)(O,{name:"Delete post",onClick:n})]}),x&&Object(p.jsx)(h,{posts:r})]})},f=n(4),v=n(5),C=function(e){var t=e.onClick;return Object(p.jsx)("button",{type:"button",onClick:t,className:"button is-dark",children:"Ok"})},y=function(e){var t=e.isCreateVisible,n=e.isUpdateVisible,s=e.isDeleteVisible,a=e.onCreateHidden,c=e.onUpdateHidden,r=e.onDeleteHidden,l=Object(i.useState)({userId:0,title:"",body:""}),d=Object(o.a)(l,2),u=d[0],j=d[1],m=Object(i.useState)({id:0,title:"",body:""}),h=Object(o.a)(m,2),x=h[0],y=h[1],_=Object(i.useState)(0),N=Object(o.a)(_,2),g=N[0],k=N[1],V=function(e){var t=e.target,n=t.name,i=t.value;j(Object(v.a)(Object(v.a)({},u),{},Object(f.a)({},n,i)))},F=function(e){var t=e.target,n=t.name,i=t.value;y(Object(v.a)(Object(v.a)({},x),{},Object(f.a)({},n,i)))};return Object(p.jsxs)("form",{className:"Form field",children:[t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{type:"number",name:"userId",placeholder:"Enter user id",className:"Form__input input",value:u.userId,onChange:V}),Object(p.jsx)("input",{type:"text",name:"title",placeholder:"Enter the title",className:"Form__input input",value:u.title,onChange:V}),Object(p.jsx)("textarea",{name:"body",placeholder:"Enter the body",className:"Form__input input",value:u.body,onChange:V}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(O,{name:"Cancel",onClick:a}),Object(p.jsx)(C,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";fetch(b,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({userId:e,title:t,body:n})})}(u.userId,u.title,u.body),a()}})]})]}),n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{type:"number",name:"id",placeholder:"Enter post id",className:"Form__input input",value:x.id,onChange:F}),Object(p.jsx)("input",{type:"text",name:"title",placeholder:"Enter the title",className:"Form__input input",value:x.title,onChange:F}),Object(p.jsx)("textarea",{name:"body",placeholder:"Enter the body",className:"Form__input input",value:x.body,onChange:F}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(O,{name:"Cancel",onClick:c}),Object(p.jsx)(C,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";fetch("".concat(b,"/").concat(e),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:t,body:n})})}(x.id,x.title,x.body),c()}})]})]}),s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{type:"number",name:"id",placeholder:"Enter id",className:"Form__input input",value:g,onChange:function(e){k(Number(e.target.value))}}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(O,{name:"Cancel",onClick:r}),Object(p.jsx)(C,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;fetch("".concat(b,"/").concat(e),{method:"DELETE"})}(g),r()}})]})]})]})},_=function(e){var t=e.isCreateVisible,n=e.isUpdateVisible,i=e.isDeleteVisible,s=e.onCreateHidden,a=e.onUpdateHidden,c=e.onDeleteHidden;return Object(p.jsx)("div",{className:"eclipse",children:Object(p.jsx)("section",{className:"Sidebar box",children:Object(p.jsx)(y,{isCreateVisible:t,isUpdateVisible:n,isDeleteVisible:i,onCreateHidden:s,onUpdateHidden:a,onDeleteHidden:c})})})},N=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(i.useState)(!1),c=Object(o.a)(a,2),r=c[0],l=c[1],d=Object(i.useState)(!1),b=Object(o.a)(d,2),u=b[0],j=b[1];return Object(p.jsxs)("div",{className:"App content",children:[Object(p.jsx)("h1",{className:"App__title",children:"CRUD"}),Object(p.jsx)(x,{onCreateVisible:function(){s(!0)},onUpdateVisible:function(){l(!0)},onDeleteVisible:function(){j(!0)},isCreateVisible:n,isUpdateVisible:r,isDeleteVisible:u}),(n||r||u)&&Object(p.jsx)(_,{isCreateVisible:n,isUpdateVisible:r,isDeleteVisible:u,onCreateHidden:function(){s(!1)},onUpdateHidden:function(){l(!1)},onDeleteHidden:function(){j(!1)}})]})};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.8dec05a2.chunk.js.map