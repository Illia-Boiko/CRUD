(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),c=n(8),a=n.n(c),o=(n(13),n(2)),r=n(3),l=n.n(r),b=n(4),u="https://mate.academy/students-api/posts";function j(){return d.apply(this,arguments)}function d(){return(d=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u);case 2:if(!(t=e.sent).ok){e.next=5;break}return e.abrupt("return",t.json());case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(0),h=function(e){var t=e.onClick,n=e.name;return Object(p.jsx)("button",{type:"button",onClick:t,className:"Button button is-light",children:n})},m=function(e){var t=e.post;return Object(p.jsxs)("li",{className:"Post content is-normal",children:[Object(p.jsx)("span",{className:"Post__id",children:"Post id: ".concat(t.id)}),Object(p.jsx)("h2",{className:"Post__title",children:t.title}),Object(p.jsx)("span",{className:"Post__body",children:t.body})]})},O=function(e){var t=e.posts;return Object(p.jsx)("ul",{className:"ListOfPosts",children:null===t||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(i.Fragment,{children:Object(p.jsx)(m,{post:e})},e.id)}))})},x=function(e){var t=e.onCreateVisible,n=e.onDeleteVisible,s=e.onUpdateVisible,c=e.isCreateVisible,a=e.isUpdateVisible,r=e.isDeleteVisible,u=Object(i.useState)([]),d=Object(o.a)(u,2),m=d[0],x=d[1],f=Object(i.useState)(!1),v=Object(o.a)(f,2),C=v[0],y=v[1],_=function(){var e=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){_(),console.log("test")}),[c,a,r]),Object(p.jsxs)("main",{className:"Main App__Main box",children:[Object(p.jsxs)("div",{className:"Main__button-container",children:[Object(p.jsx)(h,{name:"Update list",onClick:_}),Object(p.jsx)(h,{name:C?"Hide list of posts":"Show list of posts",onClick:function(){y(!C)}}),Object(p.jsx)(h,{name:"New post",onClick:t}),Object(p.jsx)(h,{name:"Update post",onClick:s}),Object(p.jsx)(h,{name:"Delete post",onClick:n})]}),C&&Object(p.jsx)(O,{posts:m})]})},f=n(5),v=n(7),C=function(e){var t=e.onClick;return Object(p.jsx)("button",{type:"button",onClick:t,className:"Button button is-dark",children:"Ok"})},y=function(e){var t=e.isCreateVisible,n=e.isUpdateVisible,s=e.isDeleteVisible,c=e.onHideForm,a=Object(i.useState)({id:0,userId:0,title:"",body:""}),r=Object(o.a)(a,2),l=r[0],b=r[1],j=function(){b({id:0,userId:0,title:"",body:""})},d=function(){j(),c()},m=function(e){var t=e.target,n=t.name,i=t.value;b(Object(v.a)(Object(v.a)({},l),{},Object(f.a)({},n,i)))};return Object(p.jsxs)("form",{className:"Form field",children:[t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"Create new post"}),Object(p.jsx)("input",{type:"number",name:"userId",placeholder:"Enter user id",className:"Form__input input",value:l.userId,onChange:m}),Object(p.jsx)("input",{type:"text",name:"title",placeholder:"Enter the title",className:"Form__input input",value:l.title,onChange:m}),Object(p.jsx)("textarea",{name:"body",placeholder:"Enter the body",className:"Form__input input",value:l.body,onChange:m}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(h,{name:"Cancel",onClick:d}),Object(p.jsx)(C,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";fetch(u,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({userId:e,title:t,body:n})})}(l.userId,l.title,l.body),j(),c()}})]})]}),n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"Update post"}),Object(p.jsx)("input",{type:"number",name:"id",placeholder:"Enter post id",className:"Form__input input",value:l.id,onChange:m}),Object(p.jsx)("input",{type:"text",name:"title",placeholder:"Enter the title",className:"Form__input input",value:l.title,onChange:m}),Object(p.jsx)("textarea",{name:"body",placeholder:"Enter the body",className:"Form__input input",value:l.body,onChange:m}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(h,{name:"Cancel",onClick:d}),Object(p.jsx)(C,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";fetch("".concat(u,"/").concat(e),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:t,body:n})})}(l.id,l.title,l.body),j(),c()}})]})]}),s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"Delete post"}),Object(p.jsx)("input",{type:"number",name:"id",placeholder:"Enter post id",className:"Form__input input",value:l.id,onChange:m}),Object(p.jsxs)("div",{className:"Form__buttons-container",children:[Object(p.jsx)(h,{name:"Cancel",onClick:d}),Object(p.jsx)(C,{onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;fetch("".concat(u,"/").concat(e),{method:"DELETE"})}(l.id),j(),c()}})]})]})]})},_=function(e){var t=e.isCreateVisible,n=e.isUpdateVisible,i=e.isDeleteVisible,s=e.onHideForm;return Object(p.jsx)("div",{className:"eclipse",children:Object(p.jsx)("section",{className:"ModalWindow box",children:Object(p.jsx)(y,{isCreateVisible:t,isUpdateVisible:n,isDeleteVisible:i,onHideForm:s})})})},N=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useState)(!1),a=Object(o.a)(c,2),r=a[0],l=a[1],b=Object(i.useState)(!1),u=Object(o.a)(b,2),j=u[0],d=u[1];return Object(p.jsxs)("div",{className:"App content",children:[Object(p.jsx)("h1",{className:"App__title",children:"CRUD"}),Object(p.jsx)(x,{onCreateVisible:function(){s(!0)},onUpdateVisible:function(){l(!0)},onDeleteVisible:function(){d(!0)},isCreateVisible:n,isUpdateVisible:r,isDeleteVisible:j}),(n||r||j)&&Object(p.jsx)(_,{isCreateVisible:n,isUpdateVisible:r,isDeleteVisible:j,onHideForm:function(){s(!1),l(!1),d(!1)}})]})};a.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.e5a5b4f1.chunk.js.map